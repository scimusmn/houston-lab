<template name="component">
  <div class="row">
    <div class="col-lg-offset-2 col-lg-8">

      {{#if currentUser}}
        <div class="row">
          <div class="col-lg-6">
            <div class="btn-group btn-group-lg btn-group-justified" role="group" >
              <a href="#" id="edit-link" class="btn btn-primary">Edit</a>
              <a href="#" id="delete-link" class="btn btn-danger">Delete</a>
            </div>
          </div>
          <div class="col-lg-6">
            Current language: {{currentLanguage}}<br>
            Current language: {{$.Session.get 'currentLanguage'}}<br>
            Is it English? {{$.Session.equals 'currentLanguage' 'en'}}<br>
            Is it Spanish? {{$.Session.equals 'currentLanguage' 'es'}}
          </div>
        </div>
        <hr>
      {{/if}}

      {{#with component}}
        <div class="component">
          <h3>

            {{#if currentUser}}
              <span id="text" data-type="text" data-field-name="componentNumber">
                {{#if componentNumber}}
                  {{componentNumber}}
                {{else}}
                  ####
                {{/if}}
              </span>
              -
            {{/if}}

            {{#if $.Session.equals 'currentLanguage' 'en'}}

              <span
                id="text" data-type="text" data-pk="{{_id}}"
                data-value="{{componentTitle}}" data-context="Components"
                data-field-name="{{componentTitle}}"
              >
                {{componentTitle}}
              </span>

            {{else}}

              <span id="text" data-type="text" data-field-name="componentTitleEs">
                {{#if componentTitleEs}}
                  {{componentTitleEs}}
                {{else}}
                  ----
                {{/if}}
              </span>

            {{/if}}

          </h3>
          {{#if $.Session.equals 'currentLanguage' 'en'}}
            <p id="textArea" data-inputclass="ta-edit" data-type="textarea" data-field-name="componentBody">{{componentBody}}</p>
          {{else}}
            <p id="textArea" data-inputclass="ta-edit" data-type="textarea" data-field-name="componentBodyEs">{{componentBodyEs}}</p>
          {{/if}}
        </div>
      {{/with}}

      {{#each steps}}
        <div class="animated fadeInLeft">
          {{order}} - {{title}} -
          {{#if currentUser}}
            <a class="edit-step-link" href="#">edit</a>
          {{/if}}
        </div>
      {{/each}}
      {{#if currentUser}}
        <a class="btn btn-primary" href="/steps/submit?componentNumber={{component.componentNumber}}&link={{component.componentLink}}">Add new step</a>
      {{/if}}

      <div class="navigation">
        <div class="btn-group btn-group-lg btn-group-justified" role="group" >
          <a href="#" id="start-over" class="btn btn-default start-over">Start over</a>
          <a href="#" id="back" class="btn btn-default">Back</a>
          <a href="#" id="forward" class="btn btn-default">Forward</a>
        </div>
      </div>

    </div>
  </div>
</template>
